# Server Configuration
HTTP_ADDR=:8080
LOG_LEVEL=info
TZ=UTC

# Database
DATABASE_URL=postgres://stories:stories_dev_password@postgres:5432/stories?sslmode=disable

# Kafka
KAFKA_BROKERS=kafka:9092
KAFKA_CONSUMER_GROUP=stories-worker-main
KAFKA_TOPIC_JOBS=greatstories.jobs.v1
KAFKA_TOPIC_EVENTS=greatstories.events.v1
KAFKA_TOPIC_WEBHOOKS=greatstories.webhooks.v1

# S3/MinIO Storage
S3_ENDPOINT=http://minio:9000
S3_REGION=us-east-1
S3_BUCKET=stories-assets
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_USE_SSL=false
S3_PUBLIC_URL=http://localhost:9000/stories-assets

# Gemini API
GEMINI_API_KEY=your-gemini-api-key-here
# Optional: override Gemini API base URL (e.g. proxy or local model)
# GEMINI_API_ENDPOINT=http://host.docker.internal:31300/gemini
GEMINI_MODEL_FLASH=gemini-2.5-flash-lite
GEMINI_MODEL_PRO=gemini-3-pro-preview
GEMINI_MODEL_IMAGE=gemini-3-pro-image-preview
GEMINI_MODEL_TTS=gemini-2.5-pro-preview-tts
GEMINI_TTS_VOICE=Zephyr
GEMINI_MODEL_SEGMENT_PRIMARY=gemini-3.0-flash
GEMINI_MODEL_SEGMENT_FALLBACK=gemini-2.5-flash-lite

# Processing Limits
MAX_INPUT_LENGTH=50000
MAX_SEGMENTS_COUNT=5
MAX_CONCURRENT_SEGMENTS=5

# Quota & Rate Limiting
DEFAULT_QUOTA_CHARS=100000
DEFAULT_QUOTA_PERIOD=monthly

# Webhook
WEBHOOK_MAX_RETRIES=10
WEBHOOK_RETRY_BASE_DELAY=30s
WEBHOOK_RETRY_MAX_DELAY=24h

# Agents service (optional â€” API calls agents via gRPC and/or MCP)
# Leave empty to disable; set one or both to enable the /agents page and 503 when unreachable.
# AGENTS_GRPC_URL=localhost:9090
# AGENTS_MCP_URL=http://localhost:9091

# Observability (optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_ENABLE_TRACING=false
